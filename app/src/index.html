<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Within Viewport Demo</title>
        <link href="styles/main.scss" rel="stylesheet" media="all" />
    </head>
    <body>
        <div class="control-panel" role="main">
            <h1>Within Viewport</h1>
            <div id="toggler" class="button small">Collapse</div>
            <p class="hide-when-collapsed">
                Scroll around the page. Boxes that are completely within the viewport will darken.
                <span class="nudge-instructions" style="display: none">
                    Press <code>shift + arrow key</code> to nudge the page by 1 pixel at a time.
                </span>
            </p>

            <h2 class="hide-when-collapsed">Options</h2>

            <form action="." method="post" class="container-form hide-when-collapsed">
                <fieldset>
                    <legend class="sr-only">Viewport element</legend>
                    <div class="form-wrapper">
                        <div class="form-name" aria-hidden="true">Viewport element:</div>

                        <div class="form-field">
                            <input type="radio" name="container-form" value="window" id="container-window" checked />
                            <label for="container-window"><code>window</code></label>
                        </div>

                        <div class="form-field">
                            <input type="radio" name="container-form" value="div" id="container-div" />
                            <label for="container-div">An arbitrary <code>&lt;div&gt;</code></label>
                        </div>
                    </div>
                </fieldset>
            </form>

            <form action="." method="post" class="boundary-form hide-when-collapsed">
                <fieldset>
                    <details>
                        <summary>Boundaries <code class="boundary-preview">(defaults)</code></summary>
                        <legend class="sr-only">Boundaries</legend>

                        <fieldset>
                            <legend class="sr-only">Top</legend>
                            <div class="boundary-item">
                                <div class="boundary-item-name" aria-hidden="true">Top</div>
                                <div class="boundary-item-threshold">
                                    <input
                                        type="radio"
                                        name="boundary-top"
                                        value="threshold"
                                        id="boundary-top-threshold"
                                        checked
                                    />
                                    <label for="boundary-top-threshold" class="sr-only">Set a threshold</label>

                                    <input type="number" value="0" id="boundary-top-value" step="1" tabindex="1" />
                                    <label for="boundary-top-value">pixels from the edge</label>
                                </div>

                                <div class="boundary-item-ignore">
                                    <input type="radio" name="boundary-top" value="ignore" id="top-ignore" />
                                    <label for="top-ignore">Ignore</label>
                                </div>
                            </div>
                        </fieldset>

                        <fieldset>
                            <legend class="sr-only">Right</legend>
                            <div class="boundary-item">
                                <div class="boundary-item-name" aria-hidden="true">Right</div>

                                <div class="boundary-item-threshold">
                                    <input
                                        type="radio"
                                        name="boundary-right"
                                        value="threshold"
                                        id="boundary-right-threshold"
                                        checked
                                    />
                                    <label for="boundary-right-threshold" class="sr-only">Set a threshold</label>

                                    <input type="number" value="0" id="boundary-right-value" step="1" tabindex="1" />
                                    <label for="boundary-right-value">pixels from the edge</label>
                                </div>

                                <div class="boundary-item-ignore">
                                    <input type="radio" name="boundary-right" value="ignore" id="right-ignore" />
                                    <label for="right-ignore">Ignore</label>
                                </div>
                            </div>
                        </fieldset>

                        <fieldset>
                            <legend class="sr-only">Bottom</legend>
                            <div class="boundary-item">
                                <div class="boundary-item-name" aria-hidden="true">Bottom</div>
                                <div class="boundary-item-threshold">
                                    <input
                                        type="radio"
                                        name="boundary-bottom"
                                        value="threshold"
                                        id="boundary-bottom-threshold"
                                        checked
                                    />
                                    <label for="boundary-bottom-threshold" class="sr-only">Set a threshold</label>

                                    <input type="number" value="0" id="boundary-bottom-value" step="1" tabindex="1" />
                                    <label for="boundary-bottom-value">pixels from the edge</label>
                                </div>

                                <div class="boundary-item-ignore">
                                    <input type="radio" name="boundary-bottom" value="ignore" id="bottom-ignore" />
                                    <label for="bottom-ignore">Ignore</label>
                                </div>
                            </div>
                        </fieldset>

                        <fieldset>
                            <legend class="sr-only">Left</legend>
                            <div class="boundary-item">
                                <div class="boundary-item-name" aria-hidden="true">Left</div>
                                <div class="boundary-item-threshold">
                                    <input
                                        type="radio"
                                        name="boundary-left"
                                        value="threshold"
                                        id="boundary-left-threshold"
                                        checked
                                    />
                                    <label for="boundary-left-threshold" class="sr-only">Set a threshold</label>

                                    <input type="number" value="0" id="boundary-left-value" step="1" tabindex="1" />
                                    <label for="boundary-left-value">pixels from the edge</label>
                                </div>

                                <div class="boundary-item-ignore">
                                    <input type="radio" name="boundary-left" value="ignore" id="left-ignore" />
                                    <label for="left-ignore">Ignore</label>
                                </div>
                            </div>
                        </fieldset>
                    </details>
                </fieldset>
            </form>

            <form action="." method="post" class="method-form hide-when-collapsed">
                <fieldset>
                    <legend class="sr-only">Method</legend>
                    <div class="form-wrapper">
                        <div class="form-name" aria-hidden="true">Method:</div>

                        <div class="form-field">
                            <input type="radio" name="method-form" value="async" id="method-async" checked />
                            <label for="method-async"
                                ><abbr title="Uses IntersectionObserver, more performant">Asynchronous</abbr></label
                            >
                        </div>

                        <div class="form-field">
                            <input type="radio" name="method-form" value="sync" id="method-sync" />
                            <label for="method-sync"
                                ><abbr title="Uses old school DOM measurements, less performant"
                                    >Synchronous</abbr
                                ></label
                            >
                        </div>
                    </div>
                </fieldset>
            </form>

            <details class="hide-when-collapsed code-output">
                <summary>Show code</summary>
                <pre><code class="language-js">withinViewportAsync(elem)</code></pre>
            </details>

            <p class="hide-when-collapsed">
                See the <a href="https://github.com/patik/within-viewport">project on GitHub</a> and the
                <a href="http://patik.com/blog/within-viewport-javascript-and-jquery-plugin/">blog post</a> for more
                info.
            </p>
        </div>
        <div style="display: none" id="arbitrary-viewport-container"></div>
        <!-- Boundary lines -->
        <div style="display: none" class="boundary boundary-top"></div>
        <div style="display: none" class="boundary boundary-right"></div>
        <div style="display: none" class="boundary boundary-bottom"></div>
        <div style="display: none" class="boundary boundary-left"></div>

        <script src="scripts/main.ts" type="module"></script>
    </body>
</html>
